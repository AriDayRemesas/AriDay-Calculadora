<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AriDay Remesas</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 1.5rem;
      background: #E6F2FA; /* celeste muy claro */
    }
    .card {
      background: #ffffff; /* blanco */
      max-width: 450px;
      margin: auto;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 10px rgba(117, 170, 219, 0.4); /* celeste translÃºcido */
      border: 2px solid #75AADB; /* celeste bandera */
    }
    h2 {
      margin: 0;
      font-size: 1.5rem;
      color: #75AADB; /* celeste bandera */
    }
    p.subtitle {
      margin: 0.2rem 0 1rem;
      font-size: 0.9rem;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
      color: #004B87; /* azul bandera */
    }
    .selector-group {
      display: flex;
      align-items: center;
      margin-top: 0.5rem;
    }
    select {
      flex: 1;
      padding: 0.5rem;
      border: 1px solid #75AADB;
      border-radius: 0.5rem;
      font-size: 1rem;
      margin: 0 0.5rem;
      background: #F8FCFF;
      color: #004B87;
    }
    button, input {
      width: 100%;
      margin-top: 1rem;
      padding: 0.5rem;
      border: 1px solid #75AADB;
      border-radius: 0.5rem;
      font-size: 1rem;
      box-sizing: border-box;
    }
    input {
      background: #F8FCFF;
      color: #004B87;
    }
    .swap-btn {
      padding: 0.5rem 0.8rem;
      border: none;
      background: #75AADB; /* celeste bandera */
      color: #fff;
      border-radius: 1rem;
      cursor: pointer;
      font-size: 1.2rem;
      line-height: 1;
      transition: background 0.3s;
    }
    .swap-btn:hover {
      background: #004B87; /* azul bandera */
    }
    .btn-enviar {
      background-color: #FFD700; /* dorado */
      color: #004B87;
      border: none;
      border-radius: 0.5rem;
      padding: 0.7rem;
      margin-top: 0.5rem;
      cursor: pointer;
      font-size: 1rem;
      font-weight: bold;
      transition: background 0.3s;
    }
    .btn-enviar:hover {
      background-color: #FFEA75; /* dorado mÃ¡s claro */
    }
    .result {
      margin-top: 1.2rem;
      font-weight: bold;
      font-size: 1.1rem;
      color: #004B87; /* azul bandera */
    }
    a {
      color: #75AADB;
    }
  </style>
</head>
<body>

  <div class="card">
    <h2>ðŸ‡¦ðŸ‡· AriDay Remesas</h2>
    <p class="subtitle">
      <a href="https://wa.me/5491165218910" target="_blank" style="text-decoration:none;">
        WhatsApp: +54 9 11 6521 8910
      </a>
    </p>

    <label>Convertir de â†’ a:</label>
    <div class="selector-group">
      <select id="currencyFrom">
        <option value="ARS">ARS</option>
        <option value="CUP">CUP</option>
        <option value="MLC">MLC</option>
        <option value="USD">USD Efectivo</option>
        <option value="SALDO">Saldo MÃ³vil</option>
      </select>
      <button type="button" class="swap-btn" onclick="swapCurrencies()">â‡„</button>
      <select id="currencyTo">
        <option value="CUP">CUP</option>
        <option value="ARS">ARS</option>
        <option value="MLC">MLC</option>
        <option value="USD">USD Efectivo</option>
        <option value="SALDO">Saldo MÃ³vil</option>
      </select>
    </div>

    <label for="amount">Ingrese monto (mÃ¡x. 9 dÃ­gitos):</label>
    <input type="text" id="amount" placeholder="Ej: 15,000" maxlength="13" />

    <div class="result" id="resultText"></div>
    <button onclick="calculate()">Calcular</button>
    <button class="btn-enviar" onclick="sendToWhatsApp()">Enviar</button>
  </div>

  <script>
    // --- Todo el cÃ³digo JS original se mantiene igual ---
    const MIN_ARS = 10000;
    const MIN_CUP = 2878.79;
    const MIN_MLC = 12.0;
    const RATE_MIN = 3.47368;
    const RATE_MAX = 3.45368;
    const RATE_MLC = 10000 / 12.0;
    const RATE_USD = 1550;
    const USD_EXTRA = 0.10;

    const CUP_POR_SALDO = 4;
    const MIN_SALDO = 360;

    let lastResult = '';

    window.onload = () => {
      updateDisabledOptions();
      document.getElementById('currencyFrom').addEventListener('change', updateDisabledOptions);
      document.getElementById('currencyTo').addEventListener('change', updateDisabledOptions);
      document.getElementById('amount').addEventListener('input', enforceNumericInput);
    };

    function enforceNumericInput(event) {
      let value = event.target.value.replace(/\D/g, '');
      if (value.length > 9) value = value.slice(0, 9);
      value = value.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      event.target.value = value;
    }

    function updateDisabledOptions() {
      const from = document.getElementById('currencyFrom').value;
      const toSelect = document.getElementById('currencyTo');
      for (let opt of toSelect.options) {
        opt.disabled = (
          opt.value === from ||
          (from === 'CUP' && opt.value === 'MLC') ||
          (from === 'MLC' && opt.value === 'CUP') ||
          ((from === 'SALDO' || opt.value === 'SALDO') && (from !== 'ARS' && opt.value !== 'ARS'))
        );
      }
      if (from === toSelect.value) {
        toSelect.value = (from === 'ARS') ? 'CUP' : 'ARS';
      }
    }

    function swapCurrencies() {
      const f = document.getElementById('currencyFrom');
      const t = document.getElementById('currencyTo');
      [f.value, t.value] = [t.value, f.value];
      updateDisabledOptions();
      document.getElementById('amount').value = '';
      document.getElementById('resultText').textContent = '';
      lastResult = '';
    }

    function rateForCup(cup) {
      if (cup <= MIN_CUP) return RATE_MIN;
      if (cup >= 100000) return RATE_MAX;
      const slope = (RATE_MAX - RATE_MIN) / (100000 - MIN_CUP);
      return RATE_MIN + slope * (cup - MIN_CUP);
    }
    function cupToArs(cup) { return cup * rateForCup(cup); }
    function arsToCup(ars) {
      if (ars >= RATE_MAX * 100000) {
        return Math.floor(ars / RATE_MAX);
      }
      let low = MIN_CUP, high = 100000, mid, est;
      for (let i = 0; i < 50; i++) {
        mid = (low + high) / 2;
        est = cupToArs(mid);
        if (est > ars) high = mid; else low = mid;
      }
      return mid;
    }

    function cupToArsFixed(cup) { return cup * RATE_MIN; }
    function arsToCupFixed(ars) { return ars / RATE_MIN; }
    function arsMinParaSaldoMinimo() {
      const cupMin = MIN_SALDO * CUP_POR_SALDO;
      return Math.round(cupMin * RATE_MIN);
    }

    function calculate() {
      const from = document.getElementById('currencyFrom').value;
      const to   = document.getElementById('currencyTo').value;
      const raw  = document.getElementById('amount').value;
      const num  = parseFloat(raw.replace(/,/g, ''));
      const out  = document.getElementById('resultText');
      out.textContent = ''; lastResult = '';

      if (from === to) {
        out.textContent = 'Seleccione monedas diferentes.';
        return;
      }
      if (!raw || isNaN(num)) {
        out.textContent = 'Ingrese un monto vÃ¡lido.';
        return;
      }

      if (from==='ARS' && to==='CUP') {
        if (num < MIN_ARS) {
          out.textContent = `ARS â‰¥ ${MIN_ARS.toLocaleString()}.`;
          return;
        }
        const cup = Math.round(arsToCup(num));
        out.textContent = `ðŸ’² Con ${num.toLocaleString()} ARS recibÃ­s aprox. ${cup.toLocaleString()} CUP.`;
        lastResult = `Quiero enviar ${num.toLocaleString()} ARS y recibir ${cup.toLocaleString()} CUP.`;
      }
      else if (from==='CUP' && to==='ARS') {
        if (num < MIN_CUP) {
          out.textContent = `CUP â‰¥ ${MIN_CUP.toLocaleString()}.`;
          return;
        }
        const ars = Math.round(cupToArs(num));
        out.textContent = `ðŸ’² Recibis aprox. ${num.toLocaleString()} CUP con ${ars.toLocaleString()} ARS.`;
        lastResult = `Quiero enviar ${ars.toLocaleString()} ARS y recibir ${num.toLocaleString()} CUP.`;
      }
      else if (from==='ARS' && to==='MLC') {
        if (num < MIN_ARS) {
          out.textContent = `ARS â‰¥ ${MIN_ARS.toLocaleString()}.`;
          return;
        }
        const mlc = (num / RATE_MLC).toFixed(2);
        out.textContent = `ðŸ’² Con ${num.toLocaleString()} ARS recibÃ­s aprox. ${mlc} MLC.`;
        lastResult = `Quiero enviar ${num.toLocaleString()} ARS y recibir ${mlc} MLC.`;
      }
      else if (from==='MLC' && to==='ARS') {
        if (num < MIN_MLC) {
          out.textContent = `MLC â‰¥ ${MIN_MLC}.`;
          return;
        }
        const ars = Math.round(num * RATE_MLC);
        out.textContent = `ðŸ’² Recibis aprox. ${num} MLC con ${ars.toLocaleString()} ARS.`;
        lastResult = `Quiero enviar ${ars.toLocaleString()} ARS y recibir ${num} MLC.`;
      }
      else if (from==='ARS' && to==='USD') {
        if (num < MIN_ARS) {
          out.textContent = `ARS â‰¥ ${MIN_ARS.toLocaleString()}.`;
          return;
        }
        const usd = Math.round(num / (RATE_USD * (1 + USD_EXTRA)));
        out.textContent = `ðŸ’² Con ${num.toLocaleString()} ARS recibÃ­s aprox. ${usd.toLocaleString()} USD Efectivo.`;
        lastResult = `Quiero enviar ${num.toLocaleString()} ARS y recibir ${usd.toLocaleString()} USD Efectivo.`;
      }
      else if (from==='USD' && to==='ARS') {
        const ars = Math.round(num * (1 + USD_EXTRA) * RATE_USD);
        out.textContent = `ðŸ’² Recibis aprox. ${num.toLocaleString()} USD Efectivo con ${ars.toLocaleString()} ARS.`;
        lastResult = `Quiero enviar ${ars.toLocaleString()} ARS y recibir ${num.toLocaleString()} USD Efectivo.`;
      }
      else if (from==='ARS' && to==='SALDO') {
        const minArsSaldo = arsMinParaSaldoMinimo();
        if (num < minArsSaldo) {
          out.textContent = `ARS â‰¥ ${minArsSaldo.toLocaleString()} (equiv. a ${MIN_SALDO} Saldo).`;
          return;
        }
        const cup = arsToCupFixed(num);
        const saldo = Math.round(cup / CUP_POR_SALDO);
        out.textContent = `ðŸ’² Con ${num.toLocaleString()} ARS recibÃ­s aprox. ${saldo.toLocaleString()} Saldo MÃ³vil.`;
        lastResult = `Quiero enviar ${num.toLocaleString()} ARS y recibir ${saldo.toLocaleString()} Saldo MÃ³vil.`;
      }
      else if (from==='SALDO' && to==='ARS') {
        if (num < MIN_SALDO) {
          out.textContent = `Saldo â‰¥ ${MIN_SALDO.toLocaleString()}.`;
          return;
        }
        const cup = num * CUP_POR_SALDO;
        const ars = Math.round(cupToArsFixed(cup));
        out.textContent = `ðŸ’² Recibis aprox. ${num.toLocaleString()} Saldo MÃ³vil con ${ars.toLocaleString()} ARS.`;
        lastResult = `Quiero enviar ${ars.toLocaleString()} ARS y recibir ${num.toLocaleString()} Saldo MÃ³vil.`;
      }
      else if (from==='SALDO' || to==='SALDO') {
        out.textContent = 'â›” ConversiÃ³n con Saldo MÃ³vil no permitida (solo ARS â‡„ Saldo).';
      }
      else {
        out.textContent = 'â›” ConversiÃ³n CUP â‡„ MLC no permitida.';
      }
    }

    function sendToWhatsApp() {
      if (!lastResult) {
        alert('Primero calcula un monto vÃ¡lido antes de enviar.');
        return;
      }
      const phone = '5491165218910';
      window.open(`https://wa.me/${phone}?text=${encodeURIComponent(lastResult)}`, '_blank');
    }
  </script>

</body>
</html>
